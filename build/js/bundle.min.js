!function(){"use strict";!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t=document.querySelector(".intro"),n=document.querySelector(".main-page__button"),o=document.querySelector(".radio-form__submit--1"),r=document.querySelector(".radio-form__submit--2"),a=document.querySelector(".question-1"),c=document.querySelector(".question-2"),i=document.querySelector(".result"),u=document.querySelector(".send-block"),s=document.querySelector(".result__button"),l=document.querySelector(".result__result"),d=document.querySelector(".loading"),m=document.querySelector(".randomize"),f=document.querySelector(".final"),h=document.querySelector(".send-block--finish"),y=[];var p={};(function t(n){return function(e){return fetch("https://api.airtable.com/v0/appcM5XpJx4Ghrw0r/tblVm2XRmKONfU09o?api_key=keyIiN3plrMmK76py&offset=".concat(e||"")).then((function(e){return e.json()})).then((function(e){return e}))}(n).then((function(n){var o,r=n.records;y.push.apply(y,function(t){if(Array.isArray(t))return e(t)}(o=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),100===r.length&&t(n.offset)}))})().then((function(){y.forEach((function(e){var t=e.fields.Category.toLowerCase(),n=e.fields.Name;p[t]||(p[t]=[]),p[t].push(n),console.log(n)}))}));var b=null;m&&(o.addEventListener("click",(function(){a.classList.add("hidden"),c.classList.remove("hidden")})),r.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("loading--is-shown"),setTimeout((function(){d.classList.remove("loading--is-shown")}),3e3),setTimeout((function(){c.classList.add("hidden"),i.classList.remove("hidden")}),2e3);var t=document.querySelector('input[name="cyclist"]:checked').value,n=document.getElementsByName("place")[0].value,o=p[t];console.log({nicknameOptions:o});var r=o[Math.floor(Math.random()*o.length)];l.innerHTML=r+"<br> of "+n,b="".concat(r," of ").concat(n)})),s.addEventListener("click",(function(){var e;i.classList.add("hidden"),u.classList.remove("hidden"),e="https://ksushana.github.io/aka/build/result.html?".concat(b),console.log({url:e}),new QRCode(document.getElementById("qrcode"),{text:e,width:200,height:200,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H}),document.querySelector(".send-block__link").setAttribute("href",e)}),!1),n.addEventListener("click",(function(e){e.preventDefault(),t.classList.add("intro--is-hidden"),document.body.style.backgroundColor="#ffffff"})),h.addEventListener("click",(function(e){e.preventDefault(),f.classList.add("final--is-shown"),document.body.style.backgroundColor="#000000",u.classList.add("hidden")})));var g=document.querySelector(".image-share-block img");if(g){g.src="https://img.bruzu.com/?bi=https://source.unsplash.com/27HiryxnHJk/500x500&bi.o=undefined&h=500&w=500&a.tp=textbox&a.ox=center&a.oy=center&a.x=250&a.y=250&a.w=503&a.h=122&a.t="+window.location.search.replace("?","")+"&a.ta=center&a.fs=60&a.lh=0.8&a.fw=700&a.ff=Space Grotesk&a.maxHeight=500";for(var v=document.getElementsByTagName("meta"),k=0;k<v.length;k++)if("og:image"==v[k].getAttribute("property")){v[k].setAttribute("content","https://img.bruzu.com/?bi=https://source.unsplash.com/27HiryxnHJk/500x500&bi.o=undefined&h=500&w=500&a.tp=textbox&a.ox=center&a.oy=center&a.x=250&a.y=250&a.w=503&a.h=122&a.t="+window.location.search.replace("?","")+"&a.ta=center&a.fs=60&a.lh=0.8&a.fw=700&a.ff=Space Grotesk&a.maxHeight=500");break}!function(){if(document.getElementById("fb-share-button")){var e={title:"Cycling Nickname",text:"Check my Cycling Nickname",url:"https://www.facebook.com/sharer/sharer.php?u="+window.location.href};document.getElementById("fb-share-button").addEventListener("click",(function(){try{navigator.share(e)}catch(e){}}))}}()}var S;S=function(){},"interactive"===document.readyState||"complete"===document.readyState?S():document.addEventListener("DOMContentLoaded",S)}()}();