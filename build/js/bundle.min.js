!function(){"use strict";!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t=document.querySelector(".intro"),n=document.querySelector(".main-page__button"),r=document.querySelector(".radio-form__submit--1"),o=document.querySelector(".radio-form__submit--2"),c=document.querySelector(".question-1"),a=document.querySelector(".question-2"),i=document.querySelector(".result"),d=document.querySelector(".send-block"),s=document.querySelector(".result__button"),l=document.querySelector(".result__result"),u=document.querySelector(".loading"),f=document.querySelector(".randomize"),m=document.querySelector(".final"),h=document.querySelector(".send-block--finish"),y=[];var b={};(function t(n){return function(e){return fetch("https://api.airtable.com/v0/appcM5XpJx4Ghrw0r/tblVm2XRmKONfU09o?api_key=keyIiN3plrMmK76py&offset=".concat(e||"")).then((function(e){return e.json()})).then((function(e){return e}))}(n).then((function(n){var r,o=n.records;y.push.apply(y,function(t){if(Array.isArray(t))return e(t)}(r=o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),100===o.length&&t(n.offset)}))})().then((function(){y.forEach((function(e){var t=e.fields.Category.toLowerCase(),n=e.fields.Name;b[t]||(b[t]=[]),b[t].push(n)}))}));var p=null,v=document.querySelector(".image-share-block img");if(f&&(r.addEventListener("click",(function(){c.classList.add("hidden"),a.classList.remove("hidden")})),o.addEventListener("click",(function(e){e.preventDefault(),u.classList.add("loading--is-shown"),setTimeout((function(){u.classList.remove("loading--is-shown")}),3e3),setTimeout((function(){a.classList.add("hidden"),i.classList.remove("hidden")}),2e3);var t=document.querySelector('input[name="cyclist"]:checked').value,n=document.getElementsByName("place")[0].value,r=b[t],o=r[Math.floor(Math.random()*r.length)];l.innerHTML="The "+o+"<br> of "+n,p=(p="The ".concat(o," of ").concat(n)).toUpperCase()})),s.addEventListener("click",(function(){var e;i.classList.add("hidden"),d.classList.remove("hidden"),e="./result.html?".concat(p),new QRCode(document.getElementById("qrcode"),{text:e,width:200,height:200,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H}),document.querySelector(".send-block__link").setAttribute("href",e)}),!1),n.addEventListener("click",(function(e){e.preventDefault(),t.classList.add("intro--is-hidden"),document.body.style.backgroundColor="#ffffff"})),h.addEventListener("click",(function(e){e.preventDefault(),m.classList.add("final--is-shown"),document.body.style.backgroundColor="#000000",d.classList.add("hidden")}))),v){var g,w=window.location.search.replace("?","").replaceAll("%20"," "),x=(w.split(" "),w.substring(4,w.indexOf("OF")-1).toUpperCase()),L=w.substring(w.indexOf("OF")+3).toUpperCase();g=x.length>10||L.length>10?90:x.length>12||L.length>12?80:120,v.src="https://img.bruzu.com/?ak=BRUZU-1ndVgyOzb&bi=https://ucarecdn.com/49a68861-2435-4d58-b782-c616e78a5166/&bi.o=NaN&h=1080&w=1080&a.tp=textbox&a.ox=center&a.oy=center&a.x=540&a.y=591&a.w=540&a.h=136&a.t=OF&a.ta=center&a.fs="+g+"&a.cs=-34&a.lh=1&a.fw=400&a.ff=Archivo Black&a.maxHeight=488&b.tp=textbox&b.ox=center&b.oy=center&b.x=540&b.y=484&b.w=1076&b.h=136&b.t="+x+"&b.ta=center&b.fs="+g+"&b.cs=-35&b.lh=1&b.fw=400&b.ff=Archivo Black&b.maxHeight=488&c.tp=textbox&c.ox=center&c.oy=center&c.x=540&c.y=379&c.w=1013&c.h=136&c.t=THE&c.ta=center&c.fs="+g+"&c.cs=-36&c.lh=1&c.fw=400&c.ff=Archivo Black&c.maxHeight=488&d.tp=textbox&d.ox=center&d.oy=center&d.x=540&d.y=697&d.w=1078&d.h=136&d.t="+L+"&d.ta=center&d.fs="+g+"&d.cs=-65&d.lh=1&d.fw=400&d.ff=Archivo Black&d.maxHeight=488",function(){if(document.getElementById("fb-share-button")){window.location.href;var e={url:v.src};document.getElementById("fb-share-button").addEventListener("click",(function(){if(navigator.share)try{navigator.share(e)}catch(e){}else window.open(v.src)}))}}()}var S;S=function(){},"interactive"===document.readyState||"complete"===document.readyState?S():document.addEventListener("DOMContentLoaded",S)}()}();